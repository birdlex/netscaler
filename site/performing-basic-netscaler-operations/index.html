<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">   
    <title>Performing Basic NetScaler Operations - Citrix NetScaler 12.0 NITRO API Documentation</title>
     
    <link rel="shortcut icon" href="
https://www.citrix.com/etc/designs/citrix/icon-favicon.png"> 
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="../css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
    <link rel="stylesheet" href="../css/highlight.css">
    <link rel="stylesheet" href="../css/override.css" type="text/css" />
    <link rel="stylesheet" href="../css/font-awesome.css" type="text/css" /> 
    <script>
      // Current page data
      var mkdocs_page_name = "Performing Basic NetScaler Operations";
      var mkdocs_page_input_path = "performing-basic-netscaler-operations.md";
      var mkdocs_page_url = "/performing-basic-netscaler-operations/";

    </script>
    
    <script src="../js/jquery-2.1.1.min.js"></script>
    <script src="../js/modernizr-2.8.3.min.js"></script>
    <script type="text/javascript" src="../js/highlight.pack.js"></script>
    <script src="../js/theme.js"></script>
    <script src="../js/custom.js"></script>  
  </head>

  <body class="wy-body-for-nav" role="document">

    <div class="header-top">

        <div class="header-top-left">
          <a href="http://developer-docs.citrix.com" class="logo-position"><img height="60" src="../img/citrixlogoblack.png" target="_blank" class="logo-citrix"><span style="color:#000;font-size: 20px;position: relative;top:4px;left:20px;">Developer Documentation</span></a>
        </div>
        <div class="header-top-right">
          <ul>

            <form id="rtd-search-form-alt" class="wy-form" action="../search.html" method="get">
             <ul class="header-elements">
              <li class="list-inline support">
                <input name="q" id="txtName" type="text" placeholder="Search SDKs" class="searchdocs">
                <a class="fa fa-search errspan"></a>
<!---
              </li>
             <li> <a href="javascript:void(0);" style="font-size: 22px;position: relative;left: -10px;top: 3px"><i class="fa fa-globe"></i></a></li>
             </ul>
             --->
            </form>

          </ul>

        </div>

    </div>
    <div class="body">
      <div class="wy-grid-for-nav">

        
        <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
          <div class="wy-side-nav-search">
            <div role="search">
  <form id ="rtd-search-form-alt" class="wy-form" action="../search.html" method="get">
	<i class="fa fa-search"></i>
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
          </div>

          <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            <ul class="current">
              
              
    <li class="toctree-l1 ">
        <a class="toctree-l1-a " href="..">Overview</a>
		
    </li>

			  
              
    <li class="toctree-l1 ">
        <a class="toctree-l1-a " href="../before-you-begin/">Before you begin</a>
		
    </li>

			  
              
    <li class="toctree-l1 current">
        <a class="toctree-l1-a current" href="./">Performing Basic NetScaler Operations</a>
		
            <ul style="margin-left: 0px;padding-left:15px;border-left: 1px solid #b2b2b2;">
            
                <li class="toctree-l3"><a href="#performing-basic-netscaler-operations" style="padding:0px;position: relative;">&nbsp;Performing Basic NetScaler Operations</a></li>
                
                    <li><a class="toctree-l4" href="#connecting-to-the-netscaler-appliance" style="padding:0px;position: relative;">Connecting to the NetScaler Appliance</a></li>
                
                    <li><a class="toctree-l4" href="#enabling-netscaler-features-and-modes" style="padding:0px;position: relative;">Enabling NetScaler Features and Modes</a></li>
                
                    <li><a class="toctree-l4" href="#saving-netscaler-configurations" style="padding:0px;position: relative;">Saving NetScaler Configurations</a></li>
                
                    <li><a class="toctree-l4" href="#killing-a-system-session" style="padding:0px;position: relative;">Killing a System Session</a></li>
                
                    <li><a class="toctree-l4" href="#disconnecting-from-the-netscaler-appliance" style="padding:0px;position: relative;">Disconnecting from the NetScaler Appliance</a></li>
                
            
            </ul>
        
    </li>

			  
              
    <li class="toctree-l1 ">
        <a class="toctree-l1-a " href="../usecases/">Use cases</a>
		
    </li>

			  
              
    <li class="toctree-l1 ">
        <a class="toctree-l1-a " href="../error-and-exception-handling/">Error and Exception Handling</a>
		
    </li>

			  
            </ul>
          </div>
          &nbsp;
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

           
          <div class="wy-nav-content">
            <div class="rst-content">
              <!-- <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Performing Basic NetScaler Operations</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div> -->
              <div role="main">
                <div class="section">
                <div class="file-format">
                 <div class="leftAlign" style="float: left;visibility: hidden;">
                  </div>
                  <div class="rightAlign" style="float: right;">
                      <span>Download full document:</span>
                      <ul class="file-types">
                        <li><a style="border: 1px solid #EE3D24;padding: 5px;font-size: 11px;color: #EE3D24;border-radius: 5px;font-weight: 700">PDF</a></li>
                        <li><a style="border: 1px solid #2A579A;padding: 5px;font-size: 11px;color: #2A579A;border-radius: 5px;font-weight: 700">DOCX</a></li>
                        <li><a style="border: 1px solid #495164;padding: 5px;font-size: 11px;color: #495164;border-radius: 5px;font-weight: 700">EMAIL</a></li>
                        <li><a style="border: 1px solid #495164;padding: 5px;font-size: 11px;color: #495164;border-radius: 5px;font-weight: 700">PRINT</a></li>
                      </ul>
                  </div>
                  </div>
                   <h1 id="performing-basic-netscaler-operations">Performing Basic NetScaler Operations<a class="headerlink" href="#performing-basic-netscaler-operations" title="Permanent link">&para;</a></h1>
<p>This section covers procedures for performing the following basic NetScaler operations using NITRO APIs.</p>
<ul>
<li>Connecting to the NetScaler Appliance</li>
<li>Enabling NetScaler Features and Modes</li>
<li>Saving NetScaler Configurations</li>
<li>Killing a System Session</li>
<li>Disconnecting from the NetScaler Appliance</li>
</ul>
<h2 id="connecting-to-the-netscaler-appliance">Connecting to the NetScaler Appliance<a class="headerlink" href="#connecting-to-the-netscaler-appliance" title="Permanent link">&para;</a></h2>
<p>The first step towards using NITRO is to establish a session with the NetScaler appliance and then authenticate the session by using the NetScaler administrator's credentials.</p>
<p>Some points to note with regards to session timeout for NetScaler 10.5 and later versions:</p>
<ul>
<li>When restricted timeout param is enabled, NITRO, by default, uses the timeout value that is configured for the logged in user. You can customize this value but it must be limited to the value specified for the user. If no value is specified for the user, the default timeout value of 15 minutes is used.</li>
<li>When restricted timeout param is not enabled, NITRO uses the default value of 30 minutes as session timeout.</li>
</ul>
<p><strong>Using REST APIs through HTTP</strong></p>
<p>You must specify the username and password in the login object. The session ID that is created must be specified in the request header of all further operations in the session.</p>
<p><strong>Note.</strong></p>
<ul>
<li>You must have a user account on the appliance to log on to it. The configuration operations that you can perform are limited by the administrative roles assigned to your account.</li>
<li>To ensure secure communication, use the HTTPS protocol in NITRO requests.</li>
<li>Instead of creating a NITRO session, you can log on to the NetScaler appliance while performing individual operations. To do this, you must specify the username and password in the request header of the NITRO request as follows:<ul>
<li>X-NITRO-USER:\<username></li>
<li>X-NITRO-PASS:\<password> </li>
<li>Content-Type:application/json</li>
</ul>
</li>
</ul>
<p>For example, to connect and create a session with a NetScaler appliance with NSIP address 10.102.29.60 by using the HTTP protocol:</p>
<ul>
<li>
<p><strong>Request</strong></p>
<p><strong>HTTP Method</strong> POST</p>
<p><strong>URL</strong> http://10.102.29.60/nitro/v1/config/login</p>
<p><strong>Request Headers</strong> Content-Type:application/json</p>
<p><strong>Request Payload</strong>
<code>json  
{ 
    "login": 
    { 
    "username":"admin", 
    "password":"verysecret" 
    } 
}</code></p>
</li>
<li>
<p><strong>Response</strong></p>
<p><strong>HTTP Status Code on Success</strong> 201 Created</p>
<p><strong>HTTP Status Code on Failure</strong> 4xx \<string> (for general HTTP errors) or 5xx \<string> (for NetScaler-specific errors). The response payload provides details of the error.</p>
<p><strong>Response Header</strong>
<code>Set-Cookie: 
NITRO_AUTH_TOKEN=\&lt;tokenvalue&gt;;  
path=/nitro/v1</code></p>
</li>
</ul>
<p><strong>Using REST APIs through SDKs</strong></p>
<p>You must create an object of the com.citrix.netscaler.nitro.service.nitro_service class by specifying the NetScaler IP (NSIP) address and the protocol to connect to the appliance (HTTP or HTTPS). You then use this object and log on to the appliance by specifying the user name and the password of the NetScaler administrator.</p>
<p><strong>Note.</strong></p>
<ul>
<li>For the python SDK, the package path is of the form nssrc.com.citrix.netscaler...</li>
<li>You must have a user account on that appliance. The configuration operations that you perform are limited by the administrative roles assigned to your account.</li>
</ul>
<p>The following sample code establishes a session with a NetScaler appliance with IP address 10.102.29.60 by using the HTTPS protocol and also sets a session timeout period (in seconds) of 60 minutes.</p>
<p><strong>Java - Sample code to establish session</strong></p>
<div class="codehilite"><pre><span></span><span class="c1">//Specify the NetScaler appliance IP address and protocol</span>
<span class="n">nitro_service</span> <span class="n">ns_session</span> <span class="o">=</span> <span class="k">new</span> <span class="n">nitro_service</span><span class="o">(</span><span class="s">&quot;10.102.29.60&quot;</span><span class="o">,</span><span class="s">&quot;https&quot;</span><span class="o">);</span>

<span class="c1">//Specify the login credentials</span>
<span class="n">ns_session</span><span class="o">.</span><span class="na">login</span><span class="o">(</span><span class="s">&quot;admin&quot;</span><span class="o">,</span><span class="s">&quot;verysecret&quot;</span><span class="o">,</span><span class="mi">3600</span><span class="o">);</span>
</pre></div>


<p><strong>.NET - Sample code to establish session</strong></p>
<div class="codehilite"><pre><span></span><span class="c1">//Specify the NetScaler appliance IP address and protocol</span>
<span class="n">nitro_service</span> <span class="n">ns_session</span> <span class="p">=</span> <span class="k">new</span> <span class="n">nitro_service</span><span class="p">(</span><span class="s">&quot;10.102.29.60&quot;</span><span class="p">,</span><span class="s">&quot;https&quot;</span><span class="p">);</span>

<span class="c1">//Specify the login credentials</span>
<span class="n">ns_session</span><span class="p">.</span><span class="n">login</span><span class="p">(</span><span class="s">&quot;admin&quot;</span><span class="p">,</span><span class="s">&quot;verysecret&quot;</span><span class="p">,</span><span class="m">3600</span><span class="p">);</span>
</pre></div>


<p><strong>Python - Sample code to establish session</strong></p>
<div class="codehilite"><pre><span></span><span class="c1">#Specify the NetScaler appliance IP address and protocol</span>
<span class="n">ns_session</span> <span class="o">=</span> <span class="n">nitro_service</span><span class="p">(</span><span class="s2">&quot;10.102.29.60&quot;</span><span class="p">,</span><span class="s2">&quot;https&quot;</span><span class="p">)</span>

<span class="c1">#Specify the login credentials</span>
<span class="n">ns_session</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span><span class="s2">&quot;verysecret&quot;</span><span class="p">,</span><span class="mi">3600</span><span class="p">)</span>
</pre></div>


<h3 id="disable-ssl-checks">Disable SSL Checks<a class="headerlink" href="#disable-ssl-checks" title="Permanent link">&para;</a></h3>
<p>When using HTTPS, you must make sure that the root CA is added to the truststore. By default, NITRO validates the SSL certificate and verifies the hostname. </p>
<p><strong>Using REST APIs through SDKs</strong></p>
<p>Disable these validations as shown in the following sample codes.</p>
<p><strong>Java - Sample code for disabling SSL checks</strong></p>
<div class="codehilite"><pre><span></span><span class="n">ns_session</span><span class="o">.</span><span class="na">set_certvalidation</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> 

<span class="n">ns_session</span><span class="o">.</span><span class="na">set_hostnameverification</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
</pre></div>


<p><strong>.NET - Sample code for disabling SSL checks</strong></p>
<div class="codehilite"><pre><span></span><span class="n">ns_session</span><span class="p">.</span><span class="n">certvalidation</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span> 

<span class="n">ns_session</span><span class="p">.</span><span class="n">hostnameverification</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
</pre></div>


<p><strong>Python - Sample code for disabling SSL checks</strong></p>
<div class="codehilite"><pre><span></span><span class="n">ns_session</span><span class="o">.</span><span class="n">certvalidation</span> <span class="o">=</span> <span class="n">false</span> 

<span class="n">ns_session</span><span class="o">.</span><span class="n">hostnameverification</span> <span class="o">=</span> <span class="n">false</span>
</pre></div>


<h2 id="enabling-netscaler-features-and-modes">Enabling NetScaler Features and Modes<a class="headerlink" href="#enabling-netscaler-features-and-modes" title="Permanent link">&para;</a></h2>
<p>Some NetScaler features and modes are disabled by default and therefore must be enabled before they can be configured. To enable a NetScaler feature or mode, specify the action as "enable" in the URL query string, and in the request payload, specify the feature or mode to be enabled.</p>
<p>To disable a feature or mode, in the URL query string, specify the action as "disable".</p>
<p>For example, to enable the load balancing and content switching features:</p>
<ul>
<li>
<p><strong>Request</strong></p>
<p><strong>HTTP Method</strong> POST</p>
<p><strong>URL</strong> http://\<netscaler-ip-address>/nitro/v1/config/nsfeature?action=enable</p>
<p><strong>Request Headers</strong></p>
<p>Cookie:NITRO_AUTH_TOKEN=\<tokenvalue> </p>
<p>Content-Type:application/json</p>
<p><strong>Request Payload</strong>
<code>json
{ 
        "nsfeature":  
        { 
            "feature":  
            [ 
                "LB", 
                "CS" 
            ] 
        } 
}</code>
* <strong>Response</strong></p>
<p><strong>HTTP Status Code on Success</strong> 200 OK</p>
<p><strong>HTTP Status Code on Failure</strong></p>
<p>4xx \<string> (for general HTTP errors) or 5xx \<string> (for NetScaler-specific errors). The response payload provides details of the error.</p>
</li>
</ul>
<p>For example, to enable the L2 and fast ramp modes.</p>
<ul>
<li>
<p><strong>Request</strong></p>
<p><strong>HTTP Method</strong> POST</p>
<p><strong>URL</strong> http://\<netscaler-ip-address>/nitro/v1/config/nsmode?action=enable</p>
<p><strong>Request Headers</strong></p>
<p>Cookie:NITRO_AUTH_TOKEN=\<tokenvalue> </p>
<p>Content-Type:application/json</p>
<p><strong>Request Payload</strong>
<code>json
{ 
        "nsmode": 
        { 
            "mode": 
            [ 
                "L2", 
                "FR" 
            ] 
        } 
}</code>
* <strong>Response</strong></p>
<p><strong>HTTP Status Code on Success</strong> 200 OK</p>
<p><strong>HTTP Status Code on Failure</strong></p>
<p>4xx \<string> (for general HTTP errors) or 5xx \<string> (for NetScaler-specific errors). The response payload provides details of the error.</p>
</li>
</ul>
<h2 id="saving-netscaler-configurations">Saving NetScaler Configurations<a class="headerlink" href="#saving-netscaler-configurations" title="Permanent link">&para;</a></h2>
<p>To make sure that the configurations persist on rebooting the appliance, you must save the NetScaler configurations. To save the configurations, specify the action as "save" in the URL query string.</p>
<p>To save the configurations.</p>
<ul>
<li>
<p><strong>Request</strong></p>
<p><strong>HTTP Method</strong> POST</p>
<p><strong>URL</strong></p>
<p>http://\<netscaler-ip-address>/nitro/v1/config/nsconfig?action=save</p>
<p><strong>Request Headers</strong></p>
<p>Cookie:NITRO_AUTH_TOKEN=\<tokenvalue> </p>
<p>Content-Type:application/json</p>
<p><strong>Request Payload</strong>
<code>json
{ 
    "nsconfig": 
    {} 
}</code>
* <strong>Response</strong></p>
<p><strong>HTTP Status Code on Success</strong> 200 OK</p>
<p><strong>HTTP Status Code on Failure</strong></p>
<p>4xx \<string> (for general HTTP errors) or 5xx \<string> (for NetScaler-specific errors). The response payload provides details of the error.</p>
</li>
</ul>
<h2 id="killing-a-system-session">Killing a System Session<a class="headerlink" href="#killing-a-system-session" title="Permanent link">&para;</a></h2>
<p>A NetScaler administrator can kill any system session by specifying the action as "kill" in the URL query string and by specifying the required system session ID in the request payload.</p>
<p>For example, to kill a system session that has ID as 311.</p>
<ul>
<li>
<p><strong>Request</strong></p>
<p><strong>HTTP Method</strong> POST</p>
<p><strong>URL</strong> http://\<netscaler-ip-address>/nitro/v1/config/systemsession?action=kill</p>
<p><strong>Request Headers</strong></p>
<p>Cookie:NITRO_AUTH_TOKEN=\<tokenvalue> </p>
<p>Content-Type:application/json</p>
<p><strong>Request Payload</strong>
<code>json
{ 
    "systemsession": 
        { 
        "sid":"311" 
        } 
}</code>
* <strong>Response</strong></p>
<p><strong>HTTP Status Code on Success</strong> 200 OK</p>
<p><strong>HTTP Status Code on Failure</strong></p>
<p>4xx \<string> (for general HTTP errors) or 5xx \<string> (for NetScaler-specific errors). The response payload provides details of the error. </p>
</li>
</ul>
<h2 id="disconnecting-from-the-netscaler-appliance">Disconnecting from the NetScaler Appliance<a class="headerlink" href="#disconnecting-from-the-netscaler-appliance" title="Permanent link">&para;</a></h2>
<p>Before disconnecting (logging out) from the NetScaler appliance, make sure that you have saved the NetScaler configurations.</p>
<p>To logout of the NetScaler appliance:</p>
<ul>
<li>
<p><strong>Request</strong></p>
<p><strong>HTTP Method</strong> POST</p>
<p><strong>URL</strong> http://\<netscaler-ip-address>/nitro/v1/config/logout</p>
<p><strong>Request Headers</strong></p>
<p>Cookie:NITRO_AUTH_TOKEN=\<tokenvalue> </p>
<p>Content-Type:application/json</p>
<p><strong>Request Payload</strong>
<code>json
{ 
    "logout":{} 
}</code>
* <strong>Response</strong></p>
<p><strong>HTTP Status Code on Success</strong> 200 OK</p>
<p><strong>HTTP Status Code on Failure</strong></p>
<p>4xx \<string> (for general HTTP errors) or 5xx \<string> (for NetScaler-specific errors). The response payload provides details of the error.</p>
</li>
</ul> 

                </div>
              </div>

            </div>
          </div>

        </section>

      </div>
    </div>
    <!--<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span class="prev"><a href="../before-you-begin/"><i class="fa fa-angle-left"></i> Previous</a></span>
      
      
        <span class="next"><a href="../usecases/">Next <i class="fa fa-angle-right"></i></a></span>
      
    </span>
	<div class="footer-right">
		<ul class="social-links">
			<li class="list-inline"><a href="https://twitter.com/citrix"><i class="fa fa-twitter"></i>@citrix</a></li>
			<li class="list-inline"><a href="mailto:support@citrix.com"><i class="fa fa-envelope-o"></i>support@citrix.com</a></li>
		</ul>
		<ul class="inner-pages">
			<li class="list-inline"><a href="http://citrix.com/about/legal">Privacy and Terms</li>
		</ul>
	</div>
</div>-->

  </body>

</html>
